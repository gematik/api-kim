<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1117px" preserveAspectRatio="none" style="width:1467px;height:1117px;background:#FFFFFF;" version="1.1" viewBox="0 0 1467 1117" width="1467px" zoomAndPan="magnify"><defs/><g><rect fill="#F5F5F5" height="1098.7188" style="stroke:#181818;stroke-width:0.5;" width="222" x="221" y="6"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="140" x="262" y="22.708">Primärsystem</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="5" x="262" y="39.02"> </text><rect fill="#F5F5F5" height="1098.7188" style="stroke:#181818;stroke-width:0.5;" width="222" x="475" y="6"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="121" x="525.5" y="22.708">Clientmodul</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="5" x="525.5" y="39.02"> </text><rect fill="#F5F5F5" height="1098.7188" style="stroke:#181818;stroke-width:0.5;" width="670" x="791" y="6"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="112" x="1070" y="22.708">Fachdienst</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="5" x="1070" y="39.02"> </text><rect fill="#DCDCDC" height="948.8594" style="stroke:#000000;stroke-width:1.0;" width="10" x="327" y="143.8594"/><rect fill="#DCDCDC" height="881.2813" style="stroke:#000000;stroke-width:1.0;" width="10" x="581" y="177.6484"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="897" y="348.9375"/><rect fill="#DCDCDC" height="220.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="1121" y="596.4609"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1345" y="991.3516"/><rect height="585.9688" style="stroke:#000000;stroke-width:1.5;fill:none;" width="866" x="469" y="306.0156"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="102" x2="102" y1="88.2813" y2="1110.7188"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="332" x2="332" y1="88.2813" y2="1110.7188"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="586" x2="586" y1="88.2813" y2="1110.7188"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="902" x2="902" y1="88.2813" y2="1110.7188"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1126" x2="1126" y1="88.2813" y2="1110.7188"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1350" x2="1350" y1="88.2813" y2="1110.7188"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="189" x="5" y="83.5645">Leistungserbringer</text><ellipse cx="102.5" cy="13.5" fill="#DCDCDC" rx="8" ry="8" style="stroke:#000000;stroke-width:0.5;"/><path d="M102.5,21.5 L102.5,48.5 M89.5,29.5 L115.5,29.5 M102.5,48.5 L89.5,63.5 M102.5,48.5 L115.5,63.5 " fill="none" style="stroke:#000000;stroke-width:0.5;"/><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="225" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="182" x="241" y="75.5645">PVS/KIS/Mailclient</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="479" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="107" x="532.5" y="75.5645">KIM-Dienst</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="795" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="176" x="814" y="75.5645">Account-Manager</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1019" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="40" x="1106" y="75.5645">KAS</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1243" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="102" x="1299" y="75.5645">Mailserver</text><rect fill="#DCDCDC" height="948.8594" style="stroke:#000000;stroke-width:1.0;" width="10" x="327" y="143.8594"/><rect fill="#DCDCDC" height="881.2813" style="stroke:#000000;stroke-width:1.0;" width="10" x="581" y="177.6484"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="897" y="348.9375"/><rect fill="#DCDCDC" height="220.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="1121" y="596.4609"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1345" y="991.3516"/><polygon fill="#000000" points="315,139.8594,325,143.8594,315,147.8594,319,143.8594" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="102.5" x2="321" y1="143.8594" y2="143.8594"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="146" x="109.5" y="118.061">Email mit großen</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="167" x="114.5" y="137.8501">Anhängen erzeugen</text><polygon fill="#000000" points="569,173.6484,579,177.6484,569,181.6484,573,177.6484" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="337" x2="575" y1="177.6484" y2="177.6484"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="159" x="344" y="171.6392">E-Mail weiterleiten</text><line style="stroke:#000000;stroke-width:1.0;" x1="591" x2="633" y1="211.4375" y2="211.4375"/><line style="stroke:#000000;stroke-width:1.0;" x1="633" x2="633" y1="211.4375" y2="224.4375"/><line style="stroke:#000000;stroke-width:1.0;" x1="592" x2="633" y1="224.4375" y2="224.4375"/><polygon fill="#000000" points="602,220.4375,592,224.4375,602,228.4375,598,224.4375" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="192" x="598" y="205.4282">Prüfen der E-Mailgröße</text><line style="stroke:#000000;stroke-width:1.0;" x1="591" x2="633" y1="278.0156" y2="278.0156"/><line style="stroke:#000000;stroke-width:1.0;" x1="633" x2="633" y1="278.0156" y2="291.0156"/><line style="stroke:#000000;stroke-width:1.0;" x1="592" x2="633" y1="291.0156" y2="291.0156"/><polygon fill="#000000" points="602,287.0156,592,291.0156,602,295.0156,598,291.0156" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="193" x="598" y="252.2173">Prüfen der KIM-Version</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="133" x="603" y="272.0063">des Empfängers</text><path d="M469,306.0156 L539,306.0156 L539,313.1484 L529,323.1484 L469,323.1484 L469,306.0156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="585.9688" style="stroke:#000000;stroke-width:1.5;" width="866" x="469" y="306.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="484" y="319.0825">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="133" x="554" y="318.2261">[Mailgröße&gt;=15 MB]</text><polygon fill="#000000" points="885,344.9375,895,348.9375,885,352.9375,889,348.9375" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="591" x2="891" y1="348.9375" y2="348.9375"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="78" x="598" y="342.9282">getLimits</text><polygon fill="#000000" points="602,378.7266,592,382.7266,602,386.7266,598,382.7266" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="596" x2="901" y1="382.7266" y2="382.7266"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="51" x="844" y="376.7173">Limits</text><line style="stroke:#000000;stroke-width:1.0;" x1="591" x2="633" y1="436.3047" y2="436.3047"/><line style="stroke:#000000;stroke-width:1.0;" x1="633" x2="633" y1="436.3047" y2="449.3047"/><line style="stroke:#000000;stroke-width:1.0;" x1="592" x2="633" y1="449.3047" y2="449.3047"/><polygon fill="#000000" points="602,445.3047,592,449.3047,602,453.3047,598,449.3047" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="272" x="598" y="410.5063">Erzeugung eines symmetrischen</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="184" x="603" y="430.2954">Schlüssels für die Mail</text><line style="stroke:#000000;stroke-width:1.0;" x1="591" x2="633" y1="483.0938" y2="483.0938"/><line style="stroke:#000000;stroke-width:1.0;" x1="633" x2="633" y1="483.0938" y2="496.0938"/><line style="stroke:#000000;stroke-width:1.0;" x1="592" x2="633" y1="496.0938" y2="496.0938"/><polygon fill="#000000" points="602,492.0938,592,496.0938,602,500.0938,598,496.0938" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="201" x="598" y="477.0845">Bildung des Hashwertes</text><line style="stroke:#000000;stroke-width:1.0;" x1="591" x2="633" y1="549.6719" y2="549.6719"/><line style="stroke:#000000;stroke-width:1.0;" x1="633" x2="633" y1="549.6719" y2="562.6719"/><line style="stroke:#000000;stroke-width:1.0;" x1="592" x2="633" y1="562.6719" y2="562.6719"/><polygon fill="#000000" points="602,558.6719,592,562.6719,602,566.6719,598,562.6719" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="206" x="598" y="523.8735">Verschlüsselung der Mail</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="287" x="598" y="543.6626">mit dem symmetrischen Schlüssel</text><polygon fill="#000000" points="1109,592.4609,1119,596.4609,1109,600.4609,1113,596.4609" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="591" x2="1115" y1="596.4609" y2="596.4609"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="129" x="598" y="590.4517">addAttachment</text><line style="stroke:#000000;stroke-width:1.0;" x1="1131" x2="1173" y1="630.25" y2="630.25"/><line style="stroke:#000000;stroke-width:1.0;" x1="1173" x2="1173" y1="630.25" y2="643.25"/><line style="stroke:#000000;stroke-width:1.0;" x1="1132" x2="1173" y1="643.25" y2="643.25"/><polygon fill="#000000" points="1142,639.25,1132,643.25,1142,647.25,1138,643.25" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="172" x="1138" y="624.2407">Berechtigung prüfen</text><line style="stroke:#000000;stroke-width:1.0;" x1="1131" x2="1173" y1="677.0391" y2="677.0391"/><line style="stroke:#000000;stroke-width:1.0;" x1="1173" x2="1173" y1="677.0391" y2="690.0391"/><line style="stroke:#000000;stroke-width:1.0;" x1="1132" x2="1173" y1="690.0391" y2="690.0391"/><polygon fill="#000000" points="1142,686.0391,1132,690.0391,1142,694.0391,1138,690.0391" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="153" x="1138" y="671.0298">Dateigröße prüfen</text><line style="stroke:#000000;stroke-width:1.0;" x1="1131" x2="1173" y1="723.8281" y2="723.8281"/><line style="stroke:#000000;stroke-width:1.0;" x1="1173" x2="1173" y1="723.8281" y2="736.8281"/><line style="stroke:#000000;stroke-width:1.0;" x1="1132" x2="1173" y1="736.8281" y2="736.8281"/><polygon fill="#000000" points="1142,732.8281,1132,736.8281,1142,740.8281,1138,736.8281" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="185" x="1138" y="717.8188">Freigabelink erzeugen</text><line style="stroke:#000000;stroke-width:1.0;" x1="1131" x2="1173" y1="770.6172" y2="770.6172"/><line style="stroke:#000000;stroke-width:1.0;" x1="1173" x2="1173" y1="770.6172" y2="783.6172"/><line style="stroke:#000000;stroke-width:1.0;" x1="1132" x2="1173" y1="783.6172" y2="783.6172"/><polygon fill="#000000" points="1142,779.6172,1132,783.6172,1142,787.6172,1138,783.6172" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="179" x="1138" y="764.6079">E-Mail Daten ablegen</text><polygon fill="#000000" points="602,813.4063,592,817.4063,602,821.4063,598,817.4063" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="596" x2="1125" y1="817.4063" y2="817.4063"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="103" x="1016" y="811.397">Freigabelink</text><line style="stroke:#000000;stroke-width:1.0;" x1="591" x2="633" y1="870.9844" y2="870.9844"/><line style="stroke:#000000;stroke-width:1.0;" x1="633" x2="633" y1="870.9844" y2="883.9844"/><line style="stroke:#000000;stroke-width:1.0;" x1="592" x2="633" y1="883.9844" y2="883.9844"/><polygon fill="#000000" points="602,879.9844,592,883.9844,602,887.9844,598,883.9844" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="263" x="598" y="845.186">KIM-Attachment-Datenstruktur</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="292" x="598" y="864.9751">im Body der KOM-LE-Mail einfügen</text><line style="stroke:#000000;stroke-width:1.0;" x1="591" x2="633" y1="944.5625" y2="944.5625"/><line style="stroke:#000000;stroke-width:1.0;" x1="633" x2="633" y1="944.5625" y2="957.5625"/><line style="stroke:#000000;stroke-width:1.0;" x1="592" x2="633" y1="957.5625" y2="957.5625"/><polygon fill="#000000" points="602,953.5625,592,957.5625,602,961.5625,598,957.5625" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="189" x="598" y="918.7642">KOM-LE-Mail signieren</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="272" x="598" y="938.5532">und asymmetrisch verschlüsseln</text><polygon fill="#000000" points="1333,987.3516,1343,991.3516,1333,995.3516,1337,991.3516" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="591" x2="1339" y1="991.3516" y2="991.3516"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="115" x="598" y="985.3423">send Message</text><polygon fill="#000000" points="602,1021.1406,592,1025.1406,602,1029.1406,598,1025.1406" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="596" x2="1349" y1="1025.1406" y2="1025.1406"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="51" x="1292" y="1019.1313">status</text><polygon fill="#000000" points="348,1054.9297,338,1058.9297,348,1062.9297,344,1058.9297" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="342" x2="585" y1="1058.9297" y2="1058.9297"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="51" x="528" y="1052.9204">status</text><polygon fill="#000000" points="113.5,1088.7188,103.5,1092.7188,113.5,1096.7188,109.5,1092.7188" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="107.5" x2="331" y1="1092.7188" y2="1092.7188"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="51" x="274" y="1086.7095">status</text><!--MD5=[714a7c85403307895b23be8ca0f0ece2]
@startuml
skinparam sequenceMessageAlign direction
skinparam minClassWidth 200
skinparam BoxPadding 15
skinparam sequenceReferenceHeaderBackgroundColor palegreen
scale max 2048 width
hide footbox

skinparam sequence {
ArrowColor black
ArrowFontSize 17
ActorBorderColor black
LifeLineBorderColor black
LifeLineBackgroundColor Gainsboro

ParticipantBorderColor Motivation
ParticipantBackgroundColor Motivation
ParticipantFontSize 20
ParticipantFontColor black
ParticipantBorderColor Black
ParticipantBackgroundColor MOTIVATION

ActorBackgroundColor Gainsboro
ActorFontColor black
ActorFontSize 20
ActorFontName Aapex
}
      actor L as "Leistungserbringer"
      box <size:18>Primärsystem\n #WhiteSmoke
            participant P as "PVS/KIS/Mailclient"
      end box
      box <size:18>Clientmodul\n #WhiteSmoke
      participant KM as "KIM-Dienst"
      end box
      box <size:18>Fachdienst\n #WhiteSmoke
      participant AM as "Account-Manager"
      participant K as "KAS"
      participant MS as "Mailserver"
      end box

L->P: Email mit großen\n Anhängen erzeugen
 activate P
 P->KM: E-Mail weiterleiten
 activate KM
 KM->KM: Prüfen der E-Mailgröße
 KM->KM: Prüfen der KIM-Version\n des Empfängers
 opt Mailgröße>=15 MB
 KM->AM: getLimits
 activate AM
 AM- ->KM: Limits
 deactivate AM
 KM->KM: Erzeugung eines symmetrischen\n Schlüssels für die Mail
 KM->KM: Bildung des Hashwertes
 KM->KM: Verschlüsselung der Mail \nmit dem symmetrischen Schlüssel
 KM->K: addAttachment
 activate K
 K->K: Berechtigung prüfen
 K->K: Dateigröße prüfen
 K->K: Freigabelink erzeugen
 K->K: E-Mail Daten ablegen
 K- ->KM: Freigabelink
 deactivate K
 KM->KM: KIM-Attachment-Datenstruktur \nim Body der KOM-LE-Mail einfügen
 end
 KM->KM: KOM-LE-Mail signieren \nund asymmetrisch verschlüsseln
 KM->MS++: send Message
 MS- ->KM- -: status
 KM- ->P:status
 deactivate KM
 P- ->L:status
 deactivate P
@enduml

PlantUML version 1.2022.5(Sat Apr 30 10:55:52 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>